# \[ACC 1998] Harris角点

{% embed url="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.434.4816&rep=rep1&type=pdf" %}

角点检测的基本思想为：使用角点检测算子，通过一个小的滑窗，对图像每个像素计算角点响应函数，阈值化，对阈值化的角点响应值较小非极大抑制，并选取非零点作为角点。

在任意方向上移动窗口，若窗口内的灰度值都有剧烈变化，则窗口的中心就是角点。定义角点响应函数：&#x20;

![](../../.gitbook/assets/harris\_0.png)

其中w为窗函数，I为图像梯度，E表示了灰度变化的剧烈程度。Moravec角点采用了二值化的窗口函数，旨在四个方向上计算灰度变化，对每个点只考虑E的最小值。Harris角点将Moravec角点中的窗口函数由阶跃函数改为二维高斯函数，并通过泰勒展开观察微小的移动，即令$$u,v\rightarrow 0$$，对E做泰勒展开，得到：

![](../../.gitbook/assets/harris\_1.png)

记$$M=\left( \begin{array}{cc} A & B \\ B & C \end{array} \right )$$，则上式可以写为:$$Au^2+2Buv+Cv^2=E$$的形式，这可以看作一个椭圆，自相关矩阵M描述了图像局部区域的灰度变化趋势，通过椭圆的形状来判定角点。

**Proposition** 对于椭圆$$Ax^2+2Bxy+Cy^2=1$$，设其半长轴和半短轴分别为a和b，则$$\frac{1}{\sqrt{a}}$$和$$\frac{1}{\sqrt{b}}$$为矩阵M的特征值。&#x20;

根据奇异值分解，Jacobian矩阵为$$J=\left(\begin{array}{c} I_X \\ I_Y \end{array} \right)$$，所以$$M=JJ^T$$，这样M的特征值开根号后就是J的奇异值，因此M的特征值可以体现$$I_X$$和$$I_Y$$的相对大小。&#x20;

定义角点响应函数，令$$R=det(M)-k\cdot {tr}^2(M)$$(一般k=0.04\~0.06)，其中：&#x20;

![](../../.gitbook/assets/harris\_2.png)

则定性判断方法为：$$\lambda_2 \geq \lambda_1$$或$$\lambda_1 \geq \lambda_2$$，为边缘；$$\lambda_1,\lambda_2$$都很大，E在各个方向显著变化，为角点；$$\lambda_1,\lambda_2$$都很小，E在各个方向基本不变，为平滑区域。&#x20;

定量判断方法为：R<<0为边缘，R>>0为角点，|R|很小为平滑区域。&#x20;

一般增大k的值，将减小角点响应值R，降低角点检测的灵敏度，减少被检测角点的数量；减小k值，将增大角点响应值，增加角点检测的灵敏度，增加被检测检点的数量。&#x20;

Harris角点的描述子通常是由周围图像像素块的灰度值，以及用于比较的归一化互相关矩阵构成的。图像的像素块由以该像素点为中心的周围矩形区域内的图像构成。通常，两个（相同大小）像素块和的归一化互相关矩阵定义为：&#x20;

![](../../.gitbook/assets/harris\_3.png)

**优点**：计算简单；提取特征均匀且合理；对旋转、亮度、噪声和视角有不变性。&#x20;

**缺点**：对尺度敏感；精度是像素级的。
